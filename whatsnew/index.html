<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://book.didcomm.org/whatsnew/">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Whatsnew - DIDComm Book</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "What\u0027s New?", url: "#_top", children: [
              {title: "Summary of Changes", url: "#summary-of-changes" },
              {title: "Practical Changes", url: "#practical-changes" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <h2 id="whats-new">What's New?</h2>
<p>The version of DIDComm incubated in the Hyperledger Aries community is referred to as Version 1 (V1). This spec describes the next version, referred to as Version 2 (V2). This section will describe the changes between V1 and V2, useful to members of the Aries community.</p>
<h3 id="summary-of-changes">Summary of Changes</h3>
<ul>
<li>Formalization of methods used in V1</li>
<li>JWM based envelope</li>
<li>ECDH-1PU standardized form of AuthCrypt</li>
<li>Both DID and key in each message</li>
<li>Special Handling of Peer DIDs eliminated</li>
<li>Message structure split between 'headers' and body.</li>
<li>No AnonCrypt encryption method.</li>
</ul>
<h3 id="practical-changes">Practical Changes</h3>
<p>The list of changes above leads to practical changes in how DIDComm is used.</p>
<h4 id="did-exchange-not-needed">DID Exchange not needed</h4>
<p>Each message contains both the sender key (used in the encryption layer), and the sender's DID. The exchange of DIDs that occurs via the DID Exchange Protocol used in V1 occurs in each message that is transferred. The important step of rotating DIDs is accomplished via the <code>from_prior</code> header that travels alongside any protocol message. These features make the DID Exchange Protocol redundant.</p>
<p>One side effect of the DID Exchange Protocol in V1 was that you confirmed the validity of the DID with a round trip to the other party. Many protocols will provide this assurance via the flow of the protocol prior to the point where round-trip testing is required. When this round-trip is desired prior to the beginning of a protocol, a round trip with another protocol (such as Trust Ping or Feature Discovery) can provide the same assurance.</p>
<h4 id="special-handling-of-peer-dids-eliminated">Special Handling of Peer DIDs eliminated</h4>
<p>DIDComm V1 defined special handling of Peer DIDs, making it very optimized for usage with Peer DIDs. However this made it less obvious how other DID methods could be used with DIDComm. DIDComm V2 eliminated special handling of Peer DIDs, making handling of all DIDs equal from the perspective of the DIDComm spec. This creates a more distinct separation between how DIDs are used (defined by DID Core and specific DID method) and how to securely communicate using DIDs (defined by DIDComm spec).</p>
<p>The new <code>to</code> and <code>from</code> attributes inside a DIDComm message allow for query parameters to be included on a DID. Using the query parameters you can exchange additional information without using custom fields. DID methods indicate how query parameters can be used to pass state information. For example, the Peer DID method defines the usage of the <a href="https://github.com/decentralized-identity/did-spec-extensions/blob/master/parameters/initial-state.md"><code>initial-state</code> query parameter</a> to pass all information needed to construct a DIDDoc in a single field.</p>
<h4 id="process-from-headers-prior-to-protocol-processing">Process From Headers prior to Protocol Processing</h4>
<p>Relationship changes in V1 were handled inside the DID Exchange Protocol. In V2, relationship changes including discovery and rotation are handled in message headers.</p>
<p>In V2, messages must evaluate the <code>from</code> and <code>from_prior</code> headers of every message prior to beginning the protocol message processing.</p>
<h4 id="no-technical-difference-between-ephemeral-mode-and-full-mode">No technical difference between Ephemeral Mode and Full Mode</h4>
<p>Ephemeral mode in V1 was a method of passing messages without first performing an exchange of DIDs. Given that we no longer have a need to perform an exchange of DIDs prior to passing messages of another protocol, we no longer need to designate a mode for ephemeral interactions.</p>
<h4 id="message-level-decorators-now-represented-as-headers">Message Level Decorators now represented as Headers</h4>
<p>The adjusted structure of DIDComm messages now represents message level decorators as message headers. An example includes <code>thid</code>.</p>
<h4 id="return-route-moved-to-extension">Return-Route Moved to Extension</h4>
<p>The return-route mechanism has been moved to an extension due to it's limited application. This mechanism is useful in last-mile message delivery for mobile devices and agents without a public endpoint.</p>

  <br>
    

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>